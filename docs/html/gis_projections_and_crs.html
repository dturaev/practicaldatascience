<!DOCTYPE html> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=generator  content="Docutils 0.17.1: http://docutils.sourceforge.net/" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="_static/stylesheets/application.css"/> <link rel=stylesheet  href="_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XX133829453-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-XX133829453-1'); </script> <title>Projections and Coordinate Reference Systems &#8212; Practical Data Science</title> <link rel=stylesheet  type="text/css" href="_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="_static/material.css" /> <script data-url_root="./" id=documentation_options  src="_static/documentation_options.js"></script> <script src="_static/jquery.js"></script> <script src="_static/underscore.js"></script> <script src="_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script async=async  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script> <link rel="shortcut icon" href="_static/mids_logo.svg"/> <link rel=index  title=Index  href=genindex.html  /> <link rel=search  title=Search  href=search.html  /> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#gis_projections_and_crs" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href=index.html  title="Practical Data Science" class="md-header-nav__button md-logo"> <img src="_static/mids_logo.svg" height=26  alt="Practical Data Science logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Practical Data Science</span> <span class=md-header-nav__topic > Projections and Coordinate Reference Systems </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action=search.html  method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <script src="_static/javascripts/version_dropdown.js"></script> <script> var json_loc = ""versions.json"", target_loc = "../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=index.html  class=md-tabs__link >Home</a> <li class=md-tabs__item ><a href=class_schedule.html  class=md-tabs__link >Class Schedule</a> <li class=md-tabs__item ><a href=topic_list.html  class=md-tabs__link >Topic List</a> <li class=md-tabs__item ><a href="https://www.nickeubank.com" class=md-tabs__link >About The Author</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href=index.html  title="Practical Data Science" class="md-nav__button md-logo"> <img src="_static/mids_logo.svg" alt=" logo" width=48  height=48 > </a> <a href=index.html  title="Practical Data Science">Practical Data Science</a> </label> <ul class=md-nav__list > <li class=md-nav__item > <a href=class_schedule.html  class=md-nav__link >Class Schedule</a> <li class=md-nav__item > <a href=topic_list.html  class=md-nav__link >Topic List</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Environment Setup</span></span> <li class=md-nav__item > <a href=setting_up_your_computer.html  class=md-nav__link >Setup Computer for Data Science</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Basic Tools</span></span> <li class=md-nav__item > <a href=command_line_part1.html  class=md-nav__link >Command Line, Basics</a> <li class=md-nav__item > <a href=command_line_part2.html  class=md-nav__link >Command Line, Advanced</a> <li class=md-nav__item > <a href=jupyter.html  class=md-nav__link >Jupyter</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Python &amp; Pandas</span></span> <li class=md-nav__item > <a href=python_v_r.html  class=md-nav__link >Python / R Differences</a> <li class=md-nav__item > <a href=vars_v_objects.html  class=md-nav__link >Python: Vars v Objects</a> <li class=md-nav__item > <a href=ints_and_floats.html  class=md-nav__link >Numbers in Computers</a> <li class=md-nav__item > <a href=pandas_series.html  class=md-nav__link >Pandas 1: Series</a> <li class=md-nav__item > <a href=pandas_dataframes.html  class=md-nav__link >Pandas 2: DataFrames</a> <li class=md-nav__item > <a href=plotting_altair_part1.html  class=md-nav__link >Plotting, Basics</a> <li class=md-nav__item > <a href=plotting_altair_part2.html  class=md-nav__link >Plotting, Advanced</a> <li class=md-nav__item > <a href=views_and_copies_in_pandas.html  class=md-nav__link >Pandas 3: Views</a> <li class=md-nav__item > <a href=cleaning_editingvalues.html  class=md-nav__link >Cleaning: Editing Values</a> <li class=md-nav__item > <a href=parquet.html  class=md-nav__link >Parquet Format</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >DS Concepts</span></span> <li class=md-nav__item > <a href=defensive_programming.html  class=md-nav__link >Defensive Programming</a> <li class=md-nav__item > <a href=workflow.html  class=md-nav__link >Workflow Management</a> <li class=md-nav__item > <a href=backwards_design.html  class=md-nav__link >Backwards Design</a> <li class=md-nav__item > <a href=getting_help.html  class=md-nav__link >Getting Help Online</a> <li class=md-nav__item > <a href=what_is_big_data.html  class=md-nav__link >What is Big Data?</a> <li class=md-nav__item > <a href=big_data_strategies.html  class=md-nav__link >Working with Big Data</a> <li class=md-nav__item > <a href=performance_understanding.html  class=md-nav__link >Understanding Performance</a> <li class=md-nav__item > <a href=performance_solutions.html  class=md-nav__link >Solving Performance Probs</a> <li class=md-nav__item > <a href=parallelism.html  class=md-nav__link >Parallel Computing</a> <li class=md-nav__item > <a href=distributed_computing.html  class=md-nav__link >Distributed Computing</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Git and Github</span></span> <li class=md-nav__item > <a href=git_and_github.html  class=md-nav__link >Git and Github</a> <li class=md-nav__item > <a href=pr_review.html  class=md-nav__link >Reviewing Code on Github</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Other</span></span> <li class=md-nav__item > <a href=buying_datascience_computer.html  class=md-nav__link >Buying a Data Science Computer</a> <li class=md-nav__item > <a href=not_a_mids_student.html  class=md-nav__link >Not a MIDS Student?</a> <li class=md-nav__item > <a href=cheatsheets.html  class=md-nav__link >Cheat Sheets</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#gis-projections-and-crs--page-root" class=md-nav__link >Projections and Coordinate Reference Systems</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#The-Projection-Impossibility-Theory" class=md-nav__link >The Projection Impossibility Theory</a> <li class=md-nav__item ><a href="#Projection-Examples" class=md-nav__link >Projection Examples</a> <li class=md-nav__item ><a href="#Types-of-Projections" class=md-nav__link >Types of Projections</a> <li class=md-nav__item ><a href="#Coordinate-Reference-Systems-(CRS)" class=md-nav__link >Coordinate Reference Systems (CRS)</a> <li class=md-nav__item ><a href="#A-Special-Note-about-Latitude-and-Longitude-(aka-WGS84,-aka-EPSG-4326)" class=md-nav__link >A Special Note about Latitude and Longitude (aka <code class="docutils literal notranslate"><span class=pre >WGS84</span></code>, aka <code class="docutils literal notranslate"><span class=pre >EPSG</span> <span class=pre >4326</span></code>)</a> <li class=md-nav__item ><a href="#Do-I-Have-to-Work-in-Two-Dimensions?" class=md-nav__link >Do I Have to Work in Two-Dimensions?</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <section id=Projections-and-Coordinate-Reference-Systems > <h1 id=gis-projections-and-crs--page-root >Projections and Coordinate Reference Systems<a class=headerlink  href="#gis-projections-and-crs--page-root" title="Permalink to this headline">¶</a></h1> <p>As we discussed in our past readings, when working with vector spatial data, we’re always working with two-dimensional geometric shapes (represented by a set of vertices, each written as a set of x-y coordinates).</p> <p>Suppose that I gave you a tennis ball and a knife and asked you to cut the tennis ball so that it lays completely flat on the table. What would you do?</p> <p>(Seriously. Stop for a minute and think about that before proceeding. I’ll wait.)</p> <p>What I just asked you to do is precisely the problem that GIS analysts face any time they try to work with two-dimensional maps. The Earth is round, but we not only plot our data in two dimensions, but we usually also analyze it in two dimensions. But… how? Because as you probably just realized, there’s no way to get a tennis ball to lay perfectly flat just by cutting it – in the end, you’d HAVE to stretch the ball some to get it flat on the table.</p> <p>The answer is: just as you would have had to stretch that tennis ball, we have to stretch (distort) the world to work in two dimensions. And it’s up to you, the GIS analyst, to decide how best to stretch the world given the needs of the project you’re working on.</p> <p>This process of representing a three-dimensional object in two-dimensions is what we call <em>projecting</em> your data, and it’s one of the most difficult and slippery concepts in geospatial analysis, but also one of the most important.</p> <section id=The-Projection-Impossibility-Theory > <h2 id=The-Projection-Impossibility-Theory >The Projection Impossibility Theory<a class=headerlink  href="#The-Projection-Impossibility-Theory" title="Permalink to this headline">¶</a></h2> <p>It turns out that when we project the Earth into two dimensions, we can only ever perfectly preserve <em>two</em> of the following <em>three</em> properties of the real world:</p> <ul class=simple > <li><p><strong>Area</strong> within polygons</p> <li><p><strong>Distance</strong> between points</p> <li><p><strong>Shape</strong> (or, more technically, the angles between intersecting lines)</p> </ul> <p>And so because there’s no way to get a 2-D projection of the world that perfectly preserves all three of these features, GIS professionals have developed <em>hundreds</em> of different projections that strike different balances in how distortions are distributed across these different attributes of a map.</p> <p>To be clear, we can only <em>perfectly</em> preserve two of these three, but we can find projections that distribution the distortions across these different features in different ways. For example, one projection may balance all three, distorting each a little, but offering a representation of the world that’s reasonable across all three dimensions. Another may prioritize one, and evenly distribute the residual distortion over the other two.</p> <p>Moreover, one can distribute distortions differentially across space – a projection optimized for North America, for example, may minimize distortions for North America by accepting greater distortions in Canada and Mexico.</p> </section> <section id=Projection-Examples > <h2 id=Projection-Examples >Projection Examples<a class=headerlink  href="#Projection-Examples" title="Permalink to this headline">¶</a></h2> <p>stuff</p> <p>Want more? Here are two kinda cool places you can play with projections and see distortions interactively: <a class="reference external" href="https://bl.ocks.org/enjalot/bd552e711b8325c64729">Ian Johnson</a>, <a class="reference external" href="https://demonstrations.wolfram.com/WorldMapProjections/">WolframAlpha</a>.</p> </section> <section id=Types-of-Projections > <h2 id=Types-of-Projections >Types of Projections<a class=headerlink  href="#Types-of-Projections" title="Permalink to this headline">¶</a></h2> <p>While there are an infinite number of projections out there, here are a few keywords to familiarize yourself with:</p> <ul class=simple > <li><p><strong>Equidistant projections:</strong> Prioritize preserving the distance between points.</p> <li><p><strong>Equal area projections:</strong> Prioritize preserving the area inside polygons.</p> <li><p><strong>Conformal:</strong> Prioritize preserving angles of intersecting lines.</p> </ul> <p>In each case, how distortions are distributed over other attributes may vary.</p> </section> <section id="Coordinate-Reference-Systems-(CRS)"> <h2 id="Coordinate-Reference-Systems-(CRS)">Coordinate Reference Systems (CRS)<a class=headerlink  href="#Coordinate-Reference-Systems-(CRS)" title="Permalink to this headline">¶</a></h2> <p>When you receive spatial data in any standard format, it will come to you with included spatial data represented in x-y coordinates (i.e. already in a two-dimensional representation). But alongside the data, you <em>should</em> also receive information about the data’s Coordinate Reference System (CRS), which tells you what those x and y coordinates actually mean (are they the result of a Mercator projection? Maybe a Robinson projection? Are they in feet or meters?). In geopandas, this is accessed through the <code class="docutils literal notranslate"><span class=pre >.crs</span></code> attribute, and we’ll talk more about how this works in geopandas in our next reading.</p> <p>So is this CRS just telling me the projection used to make my data two-dimensional? <em>Almost</em>. You may have noticed that we keep talking about how to project the Earth onto a two-dimensional plane, and there are actually two important and distinct concepts in that: our model of the Earth, and how we’re projecting the data into two-dimensions.</p> <p>Why do we need an explicit model of the Earth? Well, it turns out that the Earth isn’t really a sphere – it’s generally fatter in the middle (an ellipsoid), and of course has differences in elevation throughout. So a CRS actually has to encode <strong>both</strong> the model of the Earth underlying the data <strong>and</strong> how data on that three-dimensional model was projected into two dimensions.</p> <p>I tell you this both (a) so you won’t get confused if you look into the details of CRSs more, and (b) because it’s kinda cool. But don’t worry – unlike projections (which you should always be mindful of choosing to suit your task), you generally don’t have to worry about these models of the Earth, just know that they’re part of a CRS.</p> <p>(Also: people will colloquially refer to a CRS as a data’s projection – so don’t be surprised if people often use the term “projection” to refer to both the Earth model and the projection used to generate a dataset.)</p> </section> <section id="A-Special-Note-about-Latitude-and-Longitude-(aka-WGS84,-aka-EPSG-4326)"> <h2 id="A-Special-Note-about-Latitude-and-Longitude-(aka-WGS84,-aka-EPSG-4326)">A Special Note about Latitude and Longitude (aka <code class="docutils literal notranslate"><span class=pre >WGS84</span></code>, aka <code class="docutils literal notranslate"><span class=pre >EPSG</span> <span class=pre >4326</span></code>)<a class=headerlink  href="#A-Special-Note-about-Latitude-and-Longitude-(aka-WGS84,-aka-EPSG-4326)" title="Permalink to this headline">¶</a></h2> <p>The last thing to talk about is the WGS84 CRS. Basically, some CRS aren’t really meant to be used as projections (i.e. for analysis of data in 2 dimensions). For example, the CRS you’re probably most familiar with in life is latitude and longitude, usually referred to in GIS circles as WGS84. Latitude and longitude are perfectly valid ways of specifying a spatial location. But it’s almost always a mistake to treat your longitude and latitude coordinates as the x-y coordinates for spatial analysis. That’s because, well, they weren’t designed to minimize any of the distortions we described above. So while you <em>can</em> do spatial operations on data with a WGS84 CRS, you will almost always get more accurate results by re-projecting them into a better projection meant for analyzing data in two dimensions.</p> </section> <section id="Do-I-Have-to-Work-in-Two-Dimensions?"> <h2 id="Do-I-Have-to-Work-in-Two-Dimensions?">Do I Have to Work in Two-Dimensions?<a class=headerlink  href="#Do-I-Have-to-Work-in-Two-Dimensions?" title="Permalink to this headline">¶</a></h2> <p>We’ve talked a lot about the challenge of working in two dimensions, which raises the question: why not just stay in three-dimensions?</p> <p>There are settings in which people use three-dimensional models of the Earth for GIS analysis. Airlines, for example, estimate flight distances across a sphere using what are called “great circle” distances. There’s just no single projection that will do a good enjoy job of modeling the Earth at the scale they work, and measuring distances between points on a three-dimensional model is relatively straightforward, especially when they’re through the air.</p> <p>But other geometric operations get <em>very</em> slippery once we move to a three-dimensional model. For example, the distance between two points is just <span class="math notranslate nohighlight">\(\sqrt{x^2 + y^2}\)</span> in two dimensions. In three dimensions, we’d first have to define the contour of the surface over which we’re traveling (is the Earth a sphere in this model? Or do we have elevation?), then measure the distance over that contour.</p> <p>So no, it’s not strictly necessary. But life in 2-D is much easier.</p> </section> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2021, Nick Eubank. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.1.2. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>